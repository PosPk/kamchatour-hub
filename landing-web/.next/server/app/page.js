(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6030:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(4148),a(3733),a(996);var s=a(170),r=a(5002),l=a(3876),n=a.n(l),i=a(6299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4148)),"/workspace/landing-web/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,3733)),"/workspace/landing-web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,996,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/landing-web/src/app/page.tsx"],u="/page",h={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5079:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,3642,23)),Promise.resolve().then(a.t.bind(a,7586,23)),Promise.resolve().then(a.t.bind(a,7838,23)),Promise.resolve().then(a.t.bind(a,8057,23)),Promise.resolve().then(a.t.bind(a,7741,23)),Promise.resolve().then(a.t.bind(a,3118,23))},6010:()=>{},4282:(e,t,a)=>{Promise.resolve().then(a.bind(a,9451))},9906:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var s=a(4080),r=a.n(s)},7692:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=a(352);a(7247),a(8964);let r=s._(a(2404));function l(e,t){var a;let s={loading:e=>{let{error:t,isLoading:a,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let l={...s,...t};return(0,r.default)({...l,modules:null==(a=l.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9304:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let s=a(7173);function r(e){let{reason:t,children:a}=e;throw new s.BailoutToCSRError(t)}},2404:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let s=a(7247),r=a(8964),l=a(9304),n=a(4146);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},a=(0,r.lazy)(()=>t.loader().then(i)),d=t.loading;function c(e){let i=d?(0,s.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.PreloadCss,{moduleIds:t.modules}),(0,s.jsx)(a,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(a,{...e})});return(0,s.jsx)(r.Suspense,{fallback:i,children:o})}return c.displayName="LoadableComponent",c}},4146:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let s=a(7247),r=a(4580);function l(e){let{moduleIds:t}=e,a=(0,r.getExpectedRequestStore)("next/dynamic css"),l=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,s.jsx)(s.Fragment,{children:l.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},9451:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(7247),r=a(9906),l=a(7692),n=a.n(l),i=a(8964);function o({href:e="/hub/safety"}){let[t,a]=(0,i.useState)(null),[r,l]=(0,i.useState)(null),[n,o]=(0,i.useState)(null),d=(0,i.useMemo)(()=>{if(r)return r;if(!t)return"";let e=1/0,a=1/0,s=-1/0,l=-1/0,n="MultiPolygon"===t.type?t.coordinates:[t.coordinates];n.forEach(t=>t.forEach(t=>t.forEach(([t,r])=>{t<e&&(e=t),t>s&&(s=t),r<a&&(a=r),r>l&&(l=r)})));let i=Math.max(1e-9,s-e),o=Math.max(1e-9,l-a),d=Math.min(480/i,580/o),c=(500-i*d)/2-e*d,u=(600-o*d)/2+l*d,h=(e,t)=>[c+e*d,u-t*d],x=[];return n.forEach(e=>e.forEach(e=>{let t=e.map(([e,t])=>h(e,t));if(t.length){x.push(`M ${t[0][0].toFixed(2)} ${t[0][1].toFixed(2)}`);for(let e=1;e<t.length;e++)x.push(`L ${t[e][0].toFixed(2)} ${t[e][1].toFixed(2)}`);x.push("Z")}})),x.join(" ")},[t]);return s.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"group inline-block",children:(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black grid place-items-center map-button-glow",children:[n?s.jsx("img",{src:n,alt:"Камчатка",className:"kamchatka-button w-full h-auto"}):s.jsx("img",{src:"/graphics/kamchatka-button.svg",alt:"Камчатка",className:"kamchatka-button w-full h-auto",onError:e=>{e.currentTarget.style.display="none"}}),!n&&s.jsx("svg",{viewBox:"0 0 500 600",className:"w-full h-auto",children:s.jsx("path",{d:d||"M160,45 C150,65 145,85 140,105 C135,125 130,145 125,165 C120,185 125,205 135,225 C145,245 160,255 180,260 C200,265 220,260 240,250 C260,240 270,225 275,205 C280,185 275,165 270,145 C265,125 260,105 255,85 C250,65 240,50 220,45 C200,40 180,40 160,45 Z",className:"fill-black",stroke:"#FFD700",strokeWidth:"2",vectorEffect:"non-scaling-stroke"})})]})})}function d({onReady:e}){let[t,a]=(0,i.useState)(null),[r,l]=(0,i.useState)(!1),[n,o]=(0,i.useState)(null),[d,c]=(0,i.useState)(null),[u,h]=(0,i.useState)(null),x=async t=>{let s=t.target.files?.[0];if(!s)return;let r=URL.createObjectURL(s);a(r);try{e(r)}catch{}o(null),l(!0);try{let t=new FormData;t.append("file",s),t.append("prefix","graphics/kamchatka-button");let a=await fetch("/api/upload",{method:"POST",body:t}),r=await a.json();if(!a.ok)throw Error(r?.error||"upload_failed");try{h(r.url),e(r.url)}catch{}}catch(e){o(e?.message||"Ошибка загрузки")}finally{l(!1)}};return(0,s.jsxs)("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-xs text-white/60",children:"PNG силуэт Камчатки"}),s.jsx("input",{type:"file",accept:"image/png,image/svg+xml",onChange:x,className:"text-sm"}),r&&s.jsx("div",{className:"text-xs text-white/60",children:"Загрузка…"}),n&&s.jsx("div",{className:"text-xs text-red-400",children:n}),t&&s.jsx("div",{className:"rounded-xl border border-white/10 bg-black p-3",children:s.jsx("img",{src:t,alt:"Предпросмотр",className:"max-h-48 mx-auto"})}),u&&!r&&s.jsx("button",{onClick:async()=>{try{l(!0);let e=await fetch("/api/kam-button",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:u})}),t=await e.json();if(!e.ok)throw Error(t?.error||"save_failed");c(u)}catch(e){o(e?.message||"Ошибка сохранения")}finally{l(!1)}},className:"h-10 rounded-lg bg-premium-gold text-premium-black font-semibold",children:"Сохранить"}),d&&s.jsx("div",{className:"text-xs text-green-400",children:"Сохранено. Будет подставляться автоматически."})]})}function c(){let[e,t]=(0,i.useState)(null);n()(async()=>{},{loadableGenerated:{modules:["app/page.tsx -> ./components/BearMap"]},ssr:!1});let a=n()(async()=>{},{loadableGenerated:{modules:["app/page.tsx -> ./components/KamaiWidget"]},ssr:!1});return(0,s.jsxs)("main",{className:"min-h-screen bg-premium-black text-white",children:[(0,s.jsxs)("header",{className:"px-6 py-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-gradient-to-br from-premium-gold to-premium-ice"}),s.jsx("span",{className:"font-display text-xl tracking-tight",children:"Kamchatour Hub"})]}),(0,s.jsxs)("nav",{className:"hidden sm:flex gap-6 text-sm text-white/70",children:[s.jsx(r.default,{href:"/premium",className:"hover:text-white",children:"Commerce"}),s.jsx(r.default,{href:"/premium2",className:"hover:text-white",children:"Adventure"}),s.jsx(r.default,{href:"/partners",className:"hover:text-white",children:"Партнёры"}),s.jsx(r.default,{href:"/hub/stay",className:"hover:text-white",children:"Размещение"}),s.jsx(r.default,{href:"/search",className:"hover:text-white",children:"Поиск"})]})]}),(0,s.jsxs)("section",{className:"relative overflow-hidden rounded-3xl mx-6 mb-8",children:[s.jsx("div",{className:"absolute inset-0 -z-10",children:s.jsx("video",{className:"w-full h-[48vh] object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:"https://images.unsplash.com/photo-1520496938500-76fd098ad75a?q=80&w=1920&auto=format&fit=crop",children:s.jsx("source",{src:"https://cdn.coverr.co/videos/coverr-aurora-over-mountains-0157/1080p.mp4",type:"video/mp4"})})}),s.jsx("div",{className:"absolute inset-0 gradient-gold-aurora animate-aurora"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),(0,s.jsxs)("div",{className:"absolute inset-0 p-8 grid content-end gap-4",children:[s.jsx("h1",{className:"font-display text-4xl sm:text-6xl font-black leading-tight",children:"Экосистема туризма Камчатки"}),s.jsx("p",{className:"max-w-2xl text-white/85",children:"Туры, партнёры, CRM, бронирование, безопасность, рефералы и экология — в едином центре."}),(0,s.jsxs)("form",{action:"/search",className:"flex gap-2 items-center",children:[s.jsx("input",{name:"q",placeholder:"Куда поедем? вулканы, океан, медведи…",className:"flex-1 h-12 rounded-xl px-4 text-slate-900"}),s.jsx("button",{className:"h-12 rounded-xl px-5 font-bold bg-premium-gold text-premium-black",children:"Искать"})]})]})]}),(0,s.jsxs)("section",{className:"px-6 py-6 grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-1 text-center",children:[s.jsx("div",{className:"font-display text-3xl sm:text-5xl font-black leading-tight text-gold gold-glow",children:"Камчатка."}),s.jsx("div",{className:"font-display text-3xl sm:text-5xl font-black leading-tight text-gold gold-glow",children:"экосистема путешествий."})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-extrabold",children:"Кому это нужно"}),s.jsx("div",{className:"text-white/70 text-sm",children:"Выберите роль, чтобы продолжить"})]}),s.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-4",children:[{key:"tourist",label:"Турист",href:"/hub/tourist"},{key:"operator",label:"Туроператор",href:"/hub/operator"},{key:"guide",label:"Гид",href:"/hub/guide"},{key:"transfer",label:"Трансфер",href:"/hub/transfer"},{key:"stay",label:"Размещение",href:"/hub/stay"},{key:"souvenirs",label:"Сувениры",href:"/hub/souvenirs"},{key:"gear",label:"Прокат снаряжения",href:"/hub/gear"},{key:"cars",label:"Прокат авто",href:"/hub/cars"}].map(e=>(0,s.jsxs)(r.default,{href:e.href,className:"rounded-2xl bg-white/5 border border-white/10 p-5 hover:bg-white/10 transition",children:[s.jsx("div",{className:"text-lg font-extrabold",children:e.label}),s.jsx("div",{className:"text-sm text-white/70",children:"Персональные инструменты и витрины"})]},e.key))})]}),(0,s.jsxs)("section",{className:"px-6 py-6 grid gap-4 sm:grid-cols-3",children:[(0,s.jsxs)("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-5 grid gap-4 sm:grid-cols-2 sm:items-start",children:[(0,s.jsxs)("div",{className:"grid gap-4",children:[s.jsx("div",{className:"text-sm text-white/70",children:"SOS и безопасность"}),(0,s.jsxs)("div",{className:"grid gap-3",children:[s.jsx("a",{href:"#",className:"rounded-xl bg-premium-gold text-premium-black text-center py-3 font-bold",children:"SOS"}),s.jsx("a",{href:"#",className:"rounded-xl bg-white/10 text-center py-3 font-bold",children:"МЧС"}),s.jsx("a",{href:"#",className:"rounded-xl bg-white/10 text-center py-3 font-bold",children:"Сейсмика"})]}),s.jsx("div",{className:"text-white/70 text-xs",children:"Тестовый режим: интеграции в процессе"})]}),s.jsx("div",{className:"w-full h-72 rounded-2xl overflow-hidden border border-white/10 bg-black grid place-items-center cursor-pointer group",children:s.jsx("div",{className:"w-[70%] sm:w-[80%]",children:e?s.jsx("a",{href:"/hub/safety",target:"_blank",rel:"noopener noreferrer","aria-label":"Открыть карту Камчатки",children:s.jsx("img",{src:e,alt:"Кнопка Камчатки",className:"kamchatka-button mx-auto"})}):s.jsx(o,{href:"/hub/safety"})})}),s.jsx("div",{className:"sm:col-span-2",children:s.jsx(d,{onReady:e=>t(e)})})]}),(0,s.jsxs)("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-5 grid gap-2",children:[s.jsx("div",{className:"text-sm text-white/70",children:"Экология"}),s.jsx("div",{className:"text-2xl font-black text-premium-gold",children:"Eco‑points: 0"}),s.jsx("div",{className:"text-white/70 text-sm",children:"Собирайте баллы за бережное поведение"})]})]}),(0,s.jsxs)("section",{className:"px-6 py-8 grid gap-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:"text-xl font-extrabold",children:"Быстрые переходы"})}),s.jsx("div",{className:"grid gap-3 grid-cols-[repeat(auto-fill,minmax(160px,1fr))]",children:[{label:"Каталог туров",href:"/partners"},{label:"Поиск",href:"/search"},{label:"Витрина Commerce",href:"/premium"},{label:"Витрина Adventure",href:"/premium2"},{label:"Размещение",href:"/hub/stay"},{label:"Безопасность",href:"/hub/safety"},{label:"Рефералы и бусты",href:"/hub/operator"}].map(e=>s.jsx(r.default,{href:e.href,className:"text-center font-semibold border border-white/10 rounded-xl p-3 bg-white/5 hover:bg-white/10",children:e.label},e.label))})]}),s.jsx(a,{})]})}},3733:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,metadata:()=>c});var s=a(2051),r=a(6642),l=a.n(r),n=a(2110),i=a.n(n),o=a(4601),d=a.n(o);a(5023);let c={title:"Kamchatour — Landing",description:"Главная лэндинг-страница"};function u({children:e}){return s.jsx("html",{lang:"ru",children:s.jsx("body",{className:`${l().variable} ${i().variable} ${d().variable} font-sans`,children:e})})}},4148:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(5347).createProxy)(String.raw`/workspace/landing-web/src/app/page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[787,416,80],()=>a(6030));module.exports=s})();