(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6030:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(2960),s(3733),s(996);var r=s(170),a=s(5002),l=s(3876),n=s.n(l),i=s(6299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2960)),"/workspace/landing-web/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,3733)),"/workspace/landing-web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,996,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/landing-web/src/app/page.tsx"],u="/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5079:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3642,23)),Promise.resolve().then(s.t.bind(s,7586,23)),Promise.resolve().then(s.t.bind(s,7838,23)),Promise.resolve().then(s.t.bind(s,8057,23)),Promise.resolve().then(s.t.bind(s,7741,23)),Promise.resolve().then(s.t.bind(s,3118,23))},8793:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4080,23)),Promise.resolve().then(s.bind(s,9304)),Promise.resolve().then(s.bind(s,4146)),Promise.resolve().then(s.bind(s,5008)),Promise.resolve().then(s.bind(s,7096)),Promise.resolve().then(s.bind(s,5630))},6010:()=>{},9906:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(4080),a=s.n(r)},9304:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=s(7173);function a(e){let{reason:t,children:s}=e;throw new r.BailoutToCSRError(t)}},4146:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let r=s(7247),a=s(4580);function l(e){let{moduleIds:t}=e,s=(0,a.getExpectedRequestStore)("next/dynamic css"),l=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},5008:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(7247),a=s(8964);function l({showPoints:e=!1,className:t}){let s=(0,a.useRef)(null);return r.jsx("div",{ref:s,className:`w-full h-72 rounded-2xl overflow-hidden border border-white/10 bg-black ${t||""}`})}},7096:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(7247),a=s(8964);function l(){let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)("Привет! Подскажи популярные туры и безопасность."),[n,i]=(0,a.useState)([{role:"assistant",content:"Я AI.Kam — ИИ‑администратор. Чем помочь?"}]),o=(0,a.useRef)(null),d=async()=>{if(!s.trim())return;let e=[...n,{role:"user",content:s}];i(e),l("");try{let t=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})}),s=await t.json();i([...e,{role:"assistant",content:s?.content||"Ок."}])}catch{i([...e,{role:"assistant",content:"Ошибка сети, попробуйте позже."}])}};return(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:()=>t(!e),className:"fixed z-50 bottom-5 right-5 h-12 px-4 rounded-full bg-premium-gold text-premium-black font-bold shadow-lg",children:e?"Закрыть AI.Kam":"AI.Kam • помощь"}),e&&(0,r.jsxs)("div",{className:"fixed z-50 bottom-20 right-5 w-[min(92vw,360px)] rounded-2xl bg-black/80 backdrop-blur border border-white/10 overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-white/10 font-bold",children:"AI.Kam — ИИ‑администратор"}),r.jsx("div",{ref:o,className:"h-64 overflow-y-auto px-4 py-3 space-y-3",children:n.map((e,t)=>r.jsx("div",{className:"assistant"===e.role?"text-white/90":"text-premium-gold",children:e.content},t))}),(0,r.jsxs)("div",{className:"p-3 flex gap-2",children:[r.jsx("input",{value:s,onChange:e=>l(e.target.value),placeholder:"Спросите у AI.Kam…",className:"flex-1 h-10 rounded-xl px-3 text-slate-900"}),r.jsx("button",{onClick:d,className:"h-10 px-4 rounded-xl bg-premium-gold text-premium-black font-bold",children:"Отправить"})]})]})]})}},5630:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(7247),a=s(9906),l=s(8964);function n(){let[e,t]=(0,l.useState)(null),s=(0,l.useMemo)(()=>e?function(e,t,s,r=8){let{minLon:a,minLat:l,maxLon:n,maxLat:i}=function(e){let t=1/0,s=1/0,r=-1/0,a=-1/0,l=(e,l)=>{e<t&&(t=e),e>r&&(r=e),l<s&&(s=l),l>a&&(a=l)};for(let t of"MultiPolygon"===e.type?e.coordinates:[e.coordinates])for(let e of t)for(let[t,s]of e)l(t,s);return{minLon:t,minLat:s,maxLon:r,maxLat:a}}(e),o=Math.max(1e-9,n-a),d=Math.max(1e-9,i-l),c=Math.min((500-2*r)/o,(600-2*r)/d),u=(500-o*c)/2-a*c,h=(600-d*c)/2+i*c,m=(e,t)=>[u+e*c,h-t*c],x=[];for(let t of"MultiPolygon"===e.type?e.coordinates:[e.coordinates])for(let e of t){let t=e.map(([e,t])=>m(e,t));if(t.length){x.push(`M ${t[0][0].toFixed(2)} ${t[0][1].toFixed(2)}`);for(let e=1;e<t.length;e++)x.push(`L ${t[e][0].toFixed(2)} ${t[e][1].toFixed(2)}`);x.push("Z")}}return x.join(" ")}(e,0,0,10):"",[e]);return r.jsx(a.default,{href:"/hub/safety","aria-label":"Открыть карту Камчатки",className:"kamchatka-button inline-block",children:r.jsx("svg",{viewBox:"0 0 500 600",width:500,height:600,className:"w-full h-auto",preserveAspectRatio:"xMidYMid meet",children:s&&r.jsx("path",{d:s,className:"kamchatka-path",vectorEffect:"non-scaling-stroke",shapeRendering:"geometricPrecision"})})})}},1264:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(3074),a=s.n(r)},2349:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(3160),a=s.n(r)},3160:(e,t,s)=>{"use strict";let{createProxy:r}=s(5347);e.exports=r("/workspace/landing-web/node_modules/next/dist/client/link.js")},3074:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=s(6484);s(2051),s(6269);let a=r._(s(6064));function l(e,t){var s;let r={loading:e=>{let{error:t,isLoading:s,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let l={...r,...t};return(0,a.default)({...l,modules:null==(s=l.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6021:(e,t,s)=>{"use strict";let{createProxy:r}=s(5347);e.exports=r("/workspace/landing-web/node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.js")},6064:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let r=s(2051),a=s(6269),l=s(6021),n=s(633);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},s=(0,a.lazy)(()=>t.loader().then(i)),d=t.loading;function c(e){let i=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.PreloadCss,{moduleIds:t.modules}),(0,r.jsx)(s,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(a.Suspense,{fallback:i,children:o})}return c.displayName="LoadableComponent",c}},633:(e,t,s)=>{"use strict";let{createProxy:r}=s(5347);e.exports=r("/workspace/landing-web/node_modules/next/dist/shared/lib/lazy-dynamic/preload-css.js")},3733:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>c});var r=s(2051),a=s(6642),l=s.n(a),n=s(2110),i=s.n(n),o=s(4601),d=s.n(o);s(5023);let c={title:"Kamchatour — Landing",description:"Главная лэндинг-страница"};function u({children:e}){return r.jsx("html",{lang:"ru",children:r.jsx("body",{className:`${l().variable} ${i().variable} ${d().variable} font-sans`,children:e})})}},2960:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(2051),a=s(2349),l=s(1264);let n=(0,s(5347).createProxy)(String.raw`/workspace/landing-web/src/app/components/KamchatkaGeoButton.tsx#default`);function i(){(0,l.default)(()=>s.e(545).then(s.bind(s,9545)),{loadableGenerated:{modules:["app/page.tsx -> ./components/BearMap"]},ssr:!1});let e=(0,l.default)(()=>s.e(740).then(s.bind(s,5740)),{loadableGenerated:{modules:["app/page.tsx -> ./components/KamaiWidget"]},ssr:!1});return(0,r.jsxs)("main",{className:"min-h-screen bg-premium-black text-white",children:[(0,r.jsxs)("header",{className:"px-6 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-9 w-9 rounded-lg bg-gradient-to-br from-premium-gold to-premium-ice"}),r.jsx("span",{className:"font-display text-xl tracking-tight",children:"Kamchatour Hub"})]}),(0,r.jsxs)("nav",{className:"hidden sm:flex gap-6 text-sm text-white/70",children:[r.jsx(a.default,{href:"/premium",className:"hover:text-white",children:"Commerce"}),r.jsx(a.default,{href:"/premium2",className:"hover:text-white",children:"Adventure"}),r.jsx(a.default,{href:"/partners",className:"hover:text-white",children:"Партнёры"}),r.jsx(a.default,{href:"/search",className:"hover:text-white",children:"Поиск"})]})]}),(0,r.jsxs)("section",{className:"relative overflow-hidden rounded-3xl mx-6 mb-8",children:[r.jsx("div",{className:"absolute inset-0 -z-10",children:r.jsx("video",{className:"w-full h-[48vh] object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:"https://images.unsplash.com/photo-1520496938500-76fd098ad75a?q=80&w=1920&auto=format&fit=crop",children:r.jsx("source",{src:"https://cdn.coverr.co/videos/coverr-aurora-over-mountains-0157/1080p.mp4",type:"video/mp4"})})}),r.jsx("div",{className:"absolute inset-0 gradient-gold-aurora animate-aurora"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),(0,r.jsxs)("div",{className:"absolute inset-0 p-8 grid content-end gap-4",children:[r.jsx("h1",{className:"font-display text-4xl sm:text-6xl font-black leading-tight",children:"Экосистема туризма Камчатки"}),r.jsx("p",{className:"max-w-2xl text-white/85",children:"Туры, партнёры, CRM, бронирование, безопасность, рефералы и экология — в едином центре."}),(0,r.jsxs)("form",{action:"/search",className:"flex gap-2 items-center",children:[r.jsx("input",{name:"q",placeholder:"Куда поедем? вулканы, океан, медведи…",className:"flex-1 h-12 rounded-xl px-4 text-slate-900"}),r.jsx("button",{className:"h-12 rounded-xl px-5 font-bold bg-premium-gold text-premium-black",children:"Искать"})]})]})]}),(0,r.jsxs)("section",{className:"px-6 py-6 grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-1 text-center",children:[r.jsx("div",{className:"font-display text-3xl sm:text-5xl font-black leading-tight text-gold gold-glow",children:"Камчатка."}),r.jsx("div",{className:"font-display text-3xl sm:text-5xl font-black leading-tight text-gold gold-glow",children:"экосистема путешествий."})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-extrabold",children:"Кому это нужно"}),r.jsx("div",{className:"text-white/70 text-sm",children:"Выберите роль, чтобы продолжить"})]}),r.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-4",children:[{key:"tourist",label:"Турист",href:"/hub/tourist"},{key:"operator",label:"Туроператор",href:"/hub/operator"},{key:"guide",label:"Гид",href:"/hub/guide"},{key:"transfer",label:"Трансфер",href:"/hub/transfer"},{key:"stay",label:"Размещение",href:"/hub/stay"},{key:"souvenirs",label:"Сувениры",href:"/hub/souvenirs"},{key:"gear",label:"Прокат снаряжения",href:"/hub/gear"},{key:"cars",label:"Прокат авто",href:"/hub/cars"}].map(e=>(0,r.jsxs)(a.default,{href:e.href,className:"rounded-2xl bg-white/5 border border-white/10 p-5 hover:bg-white/10 transition",children:[r.jsx("div",{className:"text-lg font-extrabold",children:e.label}),r.jsx("div",{className:"text-sm text-white/70",children:"Персональные инструменты и витрины"})]},e.key))})]}),(0,r.jsxs)("section",{className:"px-6 py-6 grid gap-4 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-5 grid gap-4 sm:grid-cols-2 sm:items-start",children:[(0,r.jsxs)("div",{className:"grid gap-4",children:[r.jsx("div",{className:"text-sm text-white/70",children:"SOS и безопасность"}),(0,r.jsxs)("div",{className:"grid gap-3",children:[r.jsx("a",{href:"#",className:"rounded-xl bg-premium-gold text-premium-black text-center py-3 font-bold",children:"SOS"}),r.jsx("a",{href:"#",className:"rounded-xl bg-white/10 text-center py-3 font-bold",children:"МЧС"}),r.jsx("a",{href:"#",className:"rounded-xl bg-white/10 text-center py-3 font-bold",children:"Сейсмика"})]}),r.jsx("div",{className:"text-white/70 text-xs",children:"Тестовый режим: интеграции в процессе"})]}),r.jsx("div",{className:"w-full h-72 rounded-2xl overflow-hidden border border-white/10 bg-black grid place-items-center cursor-pointer group",children:r.jsx("div",{className:"w-[70%] sm:w-[80%]",children:r.jsx(n,{})})})]}),(0,r.jsxs)("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-5 grid gap-2",children:[r.jsx("div",{className:"text-sm text-white/70",children:"Экология"}),r.jsx("div",{className:"text-2xl font-black text-premium-gold",children:"Eco‑points: 0"}),r.jsx("div",{className:"text-white/70 text-sm",children:"Собирайте баллы за бережное поведение"})]})]}),(0,r.jsxs)("section",{className:"px-6 py-8 grid gap-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:"text-xl font-extrabold",children:"Быстрые переходы"})}),r.jsx("div",{className:"grid gap-3 grid-cols-[repeat(auto-fill,minmax(160px,1fr))]",children:[{label:"Каталог туров",href:"/partners"},{label:"Поиск",href:"/search"},{label:"Витрина Commerce",href:"/premium"},{label:"Витрина Adventure",href:"/premium2"},{label:"Безопасность",href:"/hub/safety"},{label:"Рефералы и бусты",href:"/hub/operator"}].map(e=>r.jsx(a.default,{href:e.href,className:"text-center font-semibold border border-white/10 rounded-xl p-3 bg-white/5 hover:bg-white/10",children:e.label},e.label))})]}),r.jsx(e,{})]})}},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[787,416,80],()=>s(6030));module.exports=r})();