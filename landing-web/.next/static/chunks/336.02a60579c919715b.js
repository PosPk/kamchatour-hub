"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{1336:function(e,t,a){a.r(t),a.d(t,{default:function(){return n}});var l=a(7437),s=a(2265);function n(){let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)("Привет! Подскажи популярные туры и безопасность."),[o,r]=(0,s.useState)([{role:"assistant",content:"Я AI.Kam — ИИ‑администратор. Чем помочь?"}]),i=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=i.current)||void 0===e||e.scrollTo({top:999999,behavior:"smooth"})},[o,e]);let c=async()=>{if(!a.trim())return;let e=[...o,{role:"user",content:a}];r(e),n("");try{let t=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})}),a=await t.json();r([...e,{role:"assistant",content:(null==a?void 0:a.content)||"Ок."}])}catch(t){r([...e,{role:"assistant",content:"Ошибка сети, попробуйте позже."}])}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>t(!e),className:"fixed z-50 bottom-5 right-5 h-12 px-4 rounded-full bg-premium-gold text-premium-black font-bold shadow-lg",children:e?"Закрыть AI.Kam":"AI.Kam • помощь"}),e&&(0,l.jsxs)("div",{className:"fixed z-50 bottom-20 right-5 w-[min(92vw,360px)] rounded-2xl bg-black/80 backdrop-blur border border-white/10 overflow-hidden",children:[(0,l.jsx)("div",{className:"px-4 py-3 border-b border-white/10 font-bold",children:"AI.Kam — ИИ‑администратор"}),(0,l.jsx)("div",{ref:i,className:"h-64 overflow-y-auto px-4 py-3 space-y-3",children:o.map((e,t)=>(0,l.jsx)("div",{className:"assistant"===e.role?"text-white/90":"text-premium-gold",children:e.content},t))}),(0,l.jsxs)("div",{className:"p-3 flex gap-2",children:[(0,l.jsx)("input",{value:a,onChange:e=>n(e.target.value),placeholder:"Спросите у AI.Kam…",className:"flex-1 h-10 rounded-xl px-3 text-slate-900"}),(0,l.jsx)("button",{onClick:c,className:"h-10 px-4 rounded-xl bg-premium-gold text-premium-black font-bold",children:"Отправить"})]})]})]})}}}]);