(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[682],{5579:function(e,t,s){Promise.resolve().then(s.bind(s,1275))},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return l.a}});var r=s(2972),l=s.n(r)},1275:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(7437),l=s(2265),a=s(7648);function n(e){let t=new Date(e);return t.setHours(0,0,0,0),t}function i(e,t){let s=new Date(e);return s.setMonth(s.getMonth()+t),s}function o(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function d(e,t){return n(e).getTime()<n(t).getTime()}function c(e){let{monthDate:t,range:s,onPick:l,minDate:a}=e,i=t.getFullYear(),c=t.getMonth(),m=(new Date(i,c,1).getDay()+6)%7,u=new Date(i,c+1,0).getDate(),h=[];for(let e=0;e<m;e++)h.push(null);for(let e=1;e<=u;e++)h.push(new Date(i,c,e));for(;h.length%7!=0;)h.push(null);let x=e=>{var t;return s.start&&s.end&&(t=s.start,n(e).getTime()>n(t).getTime()||o(e,s.start))&&(d(e,s.end)||o(e,s.end))},g=e=>d(e,a);return(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("div",{className:"text-center font-semibold mb-2",children:t.toLocaleString("ru-RU",{month:"long",year:"numeric"})}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1 text-xs text-white/60 mb-1",children:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"].map(e=>(0,r.jsx)("div",{className:"h-7 grid place-items-center",children:e},e))}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1",children:h.map((e,t)=>{if(!e)return(0,r.jsx)("div",{className:"h-9"},t);let a=s.start&&o(e,s.start),n=s.end&&o(e,s.end),i=s.start&&s.end&&x(e),d=g(e);return(0,r.jsx)("button",{disabled:d,onClick:()=>l(e),className:"h-9 rounded-md text-sm grid place-items-center\n                ".concat(d?"text-white/25 cursor-not-allowed":"hover:bg-white/10","\n                ").concat(i?"bg-premium-gold/20":"","\n                ").concat(a||n?"bg-premium-gold text-premium-black font-bold":""),children:e.getDate()},t)})})]})}function m(e){let{value:t,onChange:s,onClose:a,anchorRef:o}=e,m=n(new Date),[u,h]=(0,l.useState)(null),[x,g]=(0,l.useState)(()=>n(t.start||m)),p=(0,l.useRef)(null),b=(0,l.useMemo)(()=>t,[t]);(0,l.useEffect)(()=>{function e(e){let t=e.target;!p.current||p.current.contains(t)||(null==o?void 0:o.current)&&o.current.contains(t)||null==a||a()}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a,o]);let f=e=>{if(!b.start||b.start&&b.end){s({start:e,end:null}),h(null);return}b.start&&!b.end&&(d(e,b.start)?s({start:e,end:b.start}):s({start:b.start,end:e}),h(null))};return(0,r.jsxs)("div",{ref:p,className:"absolute z-50 mt-2 rounded-2xl border border-white/10 bg-premium-black shadow-xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-white/10",children:[(0,r.jsx)("div",{className:"text-sm text-white/70",children:"Выберите даты"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>g(i(x,-1)),className:"h-8 w-8 grid place-items-center rounded-lg bg-white/10 hover:bg-white/15",children:"‹"}),(0,r.jsx)("button",{onClick:()=>g(i(x,1)),className:"h-8 w-8 grid place-items-center rounded-lg bg-white/10 hover:bg-white/15",children:"›"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2",children:[(0,r.jsx)(c,{monthDate:x,range:b,onPick:f,minDate:m}),(0,r.jsx)(c,{monthDate:i(x,1),range:b,onPick:f,minDate:m})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-3 py-2 border-t border-white/10",children:[(0,r.jsx)("button",{onClick:()=>s({start:null,end:null}),className:"px-3 py-2 rounded-lg bg-white/10 hover:bg-white/15 text-sm",children:"Очистить"}),(0,r.jsxs)("div",{className:"text-sm text-white/70",children:[b.start?b.start.toLocaleDateString("ru-RU"):"—"," → ",b.end?b.end.toLocaleDateString("ru-RU"):"—"]}),(0,r.jsx)("button",{onClick:a,className:"px-3 py-2 rounded-lg bg-premium-gold text-premium-black font-semibold text-sm",children:"Готово"})]})]})}function u(e){let{value:t,onChange:s}=e,[a,n]=(0,l.useState)(!1),i=(0,l.useRef)(null);return(0,l.useEffect)(()=>{function e(e){i.current&&!i.current.contains(e.target)&&n(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.jsxs)("div",{className:"relative",ref:i,children:[(0,r.jsx)(()=>(0,r.jsxs)("button",{onClick:()=>n(e=>!e),className:"h-11 rounded-xl px-3 text-slate-900 w-full text-left",children:[t.adults," взрослых \xb7 ",t.children," детей \xb7 ",t.rooms," номеров"]}),{}),a&&(0,r.jsxs)("div",{className:"absolute z-50 mt-2 rounded-2xl border border-white/10 bg-premium-black shadow-xl w-64 p-3 grid gap-3",children:[[{k:"adults",label:"Взрослые"},{k:"children",label:"Дети"},{k:"rooms",label:"Номера"}].map(e=>{let{k:l,label:a}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:a}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>s({...t,[l]:Math.max(0,t[l]-1)}),className:"h-8 w-8 grid place-items-center rounded-lg bg-white/10 hover:bg-white/15",children:"-"}),(0,r.jsx)("div",{className:"w-8 text-center",children:t[l]}),(0,r.jsx)("button",{onClick:()=>s({...t,[l]:t[l]+1}),className:"h-8 w-8 grid place-items-center rounded-lg bg-white/10 hover:bg-white/15",children:"+"})]})]},l)}),(0,r.jsx)("button",{onClick:()=>n(!1),className:"px-3 py-2 rounded-lg bg-premium-gold text-premium-black font-semibold text-sm",children:"Готово"})]})]})}let h=[{id:"kutkha",title:"База \xabКутха\xbb",location:"Елизовский район",rating:4.8,priceFrom:4200,img:"https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=1200&auto=format&fit=crop",tags:["баня","река","семейный"]},{id:"river-lodge",title:"River Lodge",location:"р. Камчатка",rating:4.9,priceFrom:5800,img:"https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1200&auto=format&fit=crop",tags:["рыбалка","трансфер","полный пансион"]},{id:"volcano-view",title:"Volcano View",location:"Петропавловск‑Камчатский",rating:4.7,priceFrom:3500,img:"https://images.unsplash.com/photo-1460353581641-37baddab0fa2?q=80&w=1200&auto=format&fit=crop",tags:["вид на вулканы","центр"]}];function x(){let[e,t]=(0,l.useState)("tourist"),[s,n]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),x=(0,l.useMemo)(()=>h.filter(e=>{let t=!s||(e.title+" "+e.location+" "+e.tags.join(" ")).toLowerCase().includes(s.toLowerCase()),r=""===i||e.priceFrom>=Number(i),l=""===d||e.priceFrom<=Number(d);return t&&r&&l}),[s,i,d]),[g,p]=(0,l.useState)(!1),[b,f]=(0,l.useState)({start:null,end:null}),[j,w]=(0,l.useState)({adults:2,children:0,rooms:1});return(0,r.jsxs)("main",{className:"min-h-screen bg-premium-black text-white px-6 py-8 grid gap-6",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("a",{href:"/",className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/15 text-sm",children:"← На главную"}),(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-extrabold",children:"Размещение"})]}),(0,r.jsx)("div",{className:"flex gap-2 bg-white/5 border border-white/10 rounded-full p-1",children:["tourist","operator"].map(s=>(0,r.jsx)("button",{onClick:()=>t(s),className:"px-3 py-1.5 rounded-full text-sm ".concat(e===s?"bg-premium-gold text-premium-black":"hover:bg-white/10"),children:"tourist"===s?"Турист":"Туроператор"},s))})]}),(0,r.jsxs)("section",{className:"grid gap-3 relative",children:[(0,r.jsxs)("div",{className:"grid sm:grid-cols-5 gap-3",children:[(0,r.jsx)("input",{value:s,onChange:e=>n(e.target.value),placeholder:"Куда: база, район…",className:"h-11 rounded-xl px-3 text-slate-900 sm:col-span-2"}),(0,r.jsxs)("button",{onClick:()=>p(e=>!e),className:"h-11 rounded-xl px-3 text-slate-900 text-left",children:[b.start?b.start.toLocaleDateString("ru-RU"):"Дата заезда"," — ",b.end?b.end.toLocaleDateString("ru-RU"):"Дата выезда"]}),(0,r.jsx)(u,{value:j,onChange:w})]}),g&&(0,r.jsx)("div",{className:"absolute z-50 top-[3.5rem] left-0",children:(0,r.jsx)(m,{value:b,onChange:f,onClose:()=>p(!1)})}),(0,r.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)("input",{type:"number",value:i,onChange:e=>o(""===e.target.value?"":Number(e.target.value)),placeholder:"Мин ₽/ночь",className:"h-11 rounded-xl px-3 text-slate-900"}),(0,r.jsx)("input",{type:"number",value:d,onChange:e=>c(""===e.target.value?"":Number(e.target.value)),placeholder:"Макс ₽/ночь",className:"h-11 rounded-xl px-3 text-slate-900"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm overflow-x-auto no-scrollbar sm:col-span-2",children:[["баня","река","рыбалка","пансион","вид на вулканы","семейный","центр","трансфер"].map(e=>(0,r.jsx)("button",{onClick:()=>n(t=>t?t+" "+e:e),className:"px-3 py-2 rounded-full bg-white/10 hover:bg-white/15 whitespace-nowrap",children:e},e)),(0,r.jsxs)("select",{className:"h-10 rounded-xl px-3 bg-white/10 border border-white/10",children:[(0,r.jsx)("option",{children:"Сортировка: по популярности"}),(0,r.jsx)("option",{children:"Сортировка: цена ↑"}),(0,r.jsx)("option",{children:"Сортировка: цена ↓"}),(0,r.jsx)("option",{children:"Сортировка: рейтинг"})]})]})]})]}),(0,r.jsx)("section",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:x.map(e=>(0,r.jsxs)("article",{className:"rounded-2xl overflow-hidden border border-white/10 bg-white/5",children:[(0,r.jsx)("img",{src:e.img,alt:e.title,className:"w-full h-40 object-cover"}),(0,r.jsxs)("div",{className:"p-4 grid gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"font-extrabold",children:e.title}),(0,r.jsx)("div",{className:"text-premium-gold font-bold",children:e.rating.toFixed(1)})]}),(0,r.jsx)("div",{className:"text-white/70 text-sm",children:e.location}),(0,r.jsx)("div",{className:"text-sm flex flex-wrap gap-1",children:e.tags.map(e=>(0,r.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/80 text-xs",children:e},e))}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-1",children:[(0,r.jsxs)("div",{className:"text-white/85",children:[(0,r.jsx)("span",{className:"font-black text-premium-gold",children:e.priceFrom.toLocaleString("ru-RU")})," ₽/ночь"]}),(0,r.jsx)(a.default,{href:"/hub/stay/".concat(e.id),className:"px-3 py-2 rounded-lg bg-premium-gold text-premium-black font-semibold",children:"Подробнее"})]})]})]},e.id))}),(0,r.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 grid gap-3",children:[(0,r.jsx)("div",{className:"text-sm text-white/70",children:"Предпросмотр календаря (стаб)"}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-[2px]",children:Array.from({length:28}).map((e,t)=>(0,r.jsx)("div",{className:"h-12 grid place-items-center text-xs ".concat(t%5==0?"bg-green-900/40":"bg-white/5"),children:t+1},t))}),"operator"===e&&(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,r.jsx)(a.default,{href:"/operator-web/stays/onboarding",className:"px-4 py-2 rounded-lg bg-premium-gold text-premium-black font-semibold",children:"Добавить объект"}),(0,r.jsx)(a.default,{href:"/operator-web",className:"px-4 py-2 rounded-lg bg-white/10 font-semibold",children:"Кабинет оператора"})]})]})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=5579)}),_N_E=e.O()}]);