(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[682],{5579:function(e,t,s){Promise.resolve().then(s.bind(s,8531))},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var i=s(2972),a=s.n(i)},2398:function(e,t,s){"use strict";s.d(t,{j:function(){return i}});let i=[{id:"avacha",name:"Гостиница \xabАвача\xbb",location:"Петропавловск‑Камчатский",coords:{lat:53.037,lng:158.655},rating:4.3,stars:3,reviews:412,type:"Отель",price:4500,distanceKm:1.2,images:["https://images.unsplash.com/photo-1528909514045-2fa4ac7a08ba?q=80&w=1600&auto=format&fit=crop","https://images.unsplash.com/photo-1455587734955-081b22074882?q=80&w=1600&auto=format&fit=crop","https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1600&auto=format&fit=crop"],amenities:["Бесплатный Wi‑Fi","Парковка","Завтрак","Трансфер"],description:"Уютная городская гостиница рядом с набережной. Номера с видом на вулканы, включён завтрак."},{id:"volcano-view",name:"Volcano View Apartments",location:"Петропавловск‑Камчатский",coords:{lat:53.027,lng:158.676},rating:4.7,stars:4,reviews:216,type:"Апартаменты",price:5900,distanceKm:2.4,images:["https://images.unsplash.com/photo-1460353581641-37baddab0fa2?q=80&w=1600&auto=format&fit=crop","https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=1600&auto=format&fit=crop"],amenities:["Бесплатный Wi‑Fi","Кухня","Вид на вулканы","Размещение с животными"],description:"Современные апартаменты с панорамным видом на Корякский и Авачинский вулканы."},{id:"elizovo-park",name:"Elizovo Park Hotel",location:"Елизово",coords:{lat:53.184,lng:158.381},rating:4.5,stars:4,reviews:158,type:"Отель",price:5200,distanceKm:.8,images:["https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1600&auto=format&fit=crop","https://images.unsplash.com/photo-1496412705862-e0088f16f791?q=80&w=1600&auto=format&fit=crop"],amenities:["Бесплатный Wi‑Fi","Парковка","Спа‑услуги","Трансфер"],description:"Отель в центре Елизово, рядом с кафе и бассейном. Уютные номера и внимательный персонал."},{id:"river-lodge",name:"River Lodge",location:"р. Камчатка",coords:{lat:55.444,lng:159.6},rating:4.9,stars:5,reviews:94,type:"Гостевой дом",price:8300,distanceKm:35,images:["https://images.unsplash.com/photo-1499696010180-025ef6e1a8f5?q=80&w=1600&auto=format&fit=crop","https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1600&auto=format&fit=crop"],amenities:["Полный пансион","Трансфер","Бесплатный Wi‑Fi","Баня"],description:"Рыболовная база на Камчатке. Полный пансион, баня, трансферы. Идеально для рыбалки."},{id:"thermal-villa",name:"Thermal Springs Villa",location:"Паратунка",coords:{lat:52.957,lng:158.26},rating:4.6,stars:4,reviews:121,type:"Вилла",price:9900,distanceKm:3.1,images:["https://images.unsplash.com/photo-1505691938474-12f4d7ec8d24?q=80&w=1600&auto=format&fit=crop","https://images.unsplash.com/photo-1445019980597-93fa8acb246c?q=80&w=1600&auto=format&fit=crop"],amenities:["Термальный бассейн","Парковка","Бесплатный Wi‑Fi","Питание включено"],description:"Частная вилла с собственным термальным бассейном. Идеальна для семейного отдыха."},{id:"hostel-bear",name:"Хостел \xabМедведь\xbb",location:"Петропавловск‑Камчатский",coords:{lat:53.05,lng:158.64},rating:3.9,stars:2,reviews:203,type:"Хостел",price:1800,distanceKm:1.8,images:["https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=1600&auto=format&fit=crop"],amenities:["Бесплатный Wi‑Fi","Кухня"],description:"Доступный вариант в центре. Общая кухня, чисто и удобно."},{id:"guest-koryak",name:"Гостевой дом \xabКоряк\xbb",location:"Петропавловск‑Камчатский",coords:{lat:53.01,lng:158.69},rating:4.4,stars:3,reviews:77,type:"Гостевой дом",price:3900,distanceKm:4.5,images:["https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1600&auto=format&fit=crop"],amenities:["Парковка","Трансфер","Размещение с животными"],description:"Уютный гостевой дом в спокойном районе, удобный трансфер."},{id:"apt-bay",name:"Bay View Апартаменты",location:"Петропавловск‑Камчатский",coords:{lat:53.03,lng:158.7},rating:4.8,stars:5,reviews:52,type:"Апартаменты",price:7500,distanceKm:.9,images:["https://images.unsplash.com/photo-1501183638710-841dd1904471?q=80&w=1600&auto=format&fit=crop"],amenities:["Бесплатный Wi‑Fi","Вид на залив","Кухня"],description:"Просторные апартаменты с видом на Авачинскую бухту."},{id:"inn-forest",name:"Forest Inn",location:"Елизово",coords:{lat:53.2,lng:158.38},rating:4.1,stars:3,reviews:98,type:"Гостевой дом",price:3100,distanceKm:2.9,images:["https://images.unsplash.com/photo-1484154218962-a197022b5858?q=80&w=1600&auto=format&fit=crop"],amenities:["Парковка","Завтрак"],description:"Тихое место рядом с лесом, идеальное для прогулок."},{id:"hotel-center",name:"Hotel Center",location:"Петропавловск‑Камчатский",coords:{lat:53.05,lng:158.62},rating:4,stars:3,reviews:340,type:"Отель",price:3600,distanceKm:.5,images:["https://images.unsplash.com/photo-1568495248636-6432b97bd949?q=80&w=1600&auto=format&fit=crop"],amenities:["Бесплатный Wi‑Fi","Парковка","Завтрак"],description:"Классический городской отель в шаговой доступности от центра."},{id:"mount-villa",name:"Mount View Villa",location:"Паратунка",coords:{lat:52.95,lng:158.27},rating:4.6,stars:4,reviews:61,type:"Вилла",price:11200,distanceKm:2.1,images:["https://images.unsplash.com/photo-1470124182917-cc6e71b22ecc?q=80&w=1600&auto=format&fit=crop"],amenities:["Термальный бассейн","Спа‑услуги","Парковка"],description:"Элегантная вилла с видом на горы и собственной купелью."},{id:"budget-elizovo",name:"Budget Елизово",location:"Елизово",coords:{lat:53.19,lng:158.37},rating:3.8,stars:2,reviews:145,type:"Частный дом",price:2200,distanceKm:3.7,images:["https://images.unsplash.com/photo-1499696786230-29eefa1d1f17?q=80&w=1600&auto=format&fit=crop"],amenities:["Кухня","Парковка"],description:"Эконом‑проживание для тех, кто весь день в турах."}]},8531:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var i=s(7437),a=s(2265);function l(e){let t=new Date(e);return t.setHours(0,0,0,0),t}function r(e,t){let s=new Date(e);return s.setMonth(s.getMonth()+t),s}function n(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function o(e,t){return l(e).getTime()<l(t).getTime()}function c(e){let{monthDate:t,range:s,onPick:a,minDate:r}=e,c=t.getFullYear(),d=t.getMonth(),m=(new Date(c,d,1).getDay()+6)%7,u=new Date(c,d+1,0).getDate(),h=[];for(let e=0;e<m;e++)h.push(null);for(let e=1;e<=u;e++)h.push(new Date(c,d,e));for(;h.length%7!=0;)h.push(null);let p=e=>{var t;return s.start&&s.end&&(t=s.start,l(e).getTime()>l(t).getTime()||n(e,s.start))&&(o(e,s.end)||n(e,s.end))},g=e=>o(e,r);return(0,i.jsxs)("div",{className:"p-3",children:[(0,i.jsx)("div",{className:"text-center font-semibold mb-2",children:t.toLocaleString("ru-RU",{month:"long",year:"numeric"})}),(0,i.jsx)("div",{className:"grid grid-cols-7 gap-1 text-xs text-white/60 mb-1",children:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"].map(e=>(0,i.jsx)("div",{className:"h-7 grid place-items-center",children:e},e))}),(0,i.jsx)("div",{className:"grid grid-cols-7 gap-1",children:h.map((e,t)=>{if(!e)return(0,i.jsx)("div",{className:"h-9"},t);let l=s.start&&n(e,s.start),r=s.end&&n(e,s.end),o=s.start&&s.end&&p(e),c=g(e);return(0,i.jsx)("button",{disabled:c,onClick:()=>a(e),className:"h-9 rounded-md text-sm grid place-items-center\n                ".concat(c?"text-white/25 cursor-not-allowed":"hover:bg-white/10","\n                ").concat(o?"bg-premium-gold/20":"","\n                ").concat(l||r?"bg-premium-gold text-premium-black font-bold":""),children:e.getDate()},t)})})]})}function d(e){let{value:t,onChange:s,onClose:n,anchorRef:d}=e,m=l(new Date),[u,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(()=>l(t.start||m)),x=(0,a.useRef)(null),[f,v]=(0,a.useState)(null),b=(0,a.useMemo)(()=>t,[t]);(0,a.useEffect)(()=>{function e(e){let t=e.target;!x.current||x.current.contains(t)||(null==d?void 0:d.current)&&d.current.contains(t)||null==n||n()}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[n,d]),(0,a.useEffect)(()=>{function e(){let e=null==d?void 0:d.current;if(!e)return;let t=e.getBoundingClientRect();v({top:t.bottom+window.scrollY+6,left:t.left+window.scrollX,width:t.width})}return e(),window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}},[d]);let w=e=>{if(!b.start||b.start&&b.end){s({start:e,end:null}),h(null);return}b.start&&!b.end&&(o(e,b.start)?s({start:e,end:b.start}):s({start:b.start,end:e}),h(null))};return(0,i.jsxs)("div",{ref:x,className:"fixed z-[9999] rounded-2xl border border-white/10 bg-premium-black shadow-xl overflow-hidden",style:f?{top:f.top,left:f.left,minWidth:Math.max(320,f.width)}:void 0,children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-white/10",children:[(0,i.jsx)("div",{className:"text-sm text-white/70",children:"Выберите даты"}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{onClick:()=>g(r(p,-1)),className:"h-8 w-8 grid place-items-center rounded-lg bg-white/10 hover:bg-white/15",children:"‹"}),(0,i.jsx)("button",{onClick:()=>g(r(p,1)),className:"h-8 w-8 grid place-items-center rounded-lg bg-white/10 hover:bg-white/15",children:"›"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2",children:[(0,i.jsx)(c,{monthDate:p,range:b,onPick:w,minDate:m}),(0,i.jsx)(c,{monthDate:r(p,1),range:b,onPick:w,minDate:m})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2 px-3 py-2 border-t border-white/10",children:[(0,i.jsx)("button",{onClick:()=>s({start:null,end:null}),className:"px-3 py-2 rounded-lg bg-white/10 hover:bg-white/15 text-sm",children:"Очистить"}),(0,i.jsxs)("div",{className:"text-sm text-white/70",children:[b.start?b.start.toLocaleDateString("ru-RU"):"—"," → ",b.end?b.end.toLocaleDateString("ru-RU"):"—"]}),b.start&&b.end?(0,i.jsxs)("div",{className:"text-sm text-white/85",children:[Math.max(1,Math.round((l(b.end).getTime()-l(b.start).getTime())/864e5))," ночей"]}):(0,i.jsx)("div",{}),(0,i.jsx)("button",{onClick:n,className:"px-3 py-2 rounded-lg bg-premium-gold text-premium-black font-semibold text-sm",children:"Готово"})]})]})}function m(e){var t,s;let{value:l,onChange:r,className:n}=e,[o,c]=(0,a.useState)(!1),d=(0,a.useRef)(null),[m,u]=(0,a.useState)(null);return(0,a.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&c(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,i.jsxs)("div",{className:"relative",ref:d,children:[(0,i.jsx)(()=>{let e=l.children>0?"".concat(l.children," реб.")+(l.childAges.length?" ("+l.childAges.join(",")+")":""):"0 реб.";return(0,i.jsxs)("button",{onClick:()=>c(e=>!e),className:"h-11 rounded-xl px-3 text-slate-900 w-full text-left ".concat(n||""),children:[l.adults," взр., ",e,", ",l.rooms," ном."]})},{}),o&&(0,i.jsxs)("div",{className:"fixed z-[9999] rounded-2xl border border-white/10 bg-premium-black shadow-xl p-3 grid gap-3",style:{top:(()=>{var e;let t=null===(e=d.current)||void 0===e?void 0:e.getBoundingClientRect();return t?t.bottom+window.scrollY+6:0})(),left:(()=>{var e;let t=null===(e=d.current)||void 0===e?void 0:e.getBoundingClientRect();return t?t.left+window.scrollX:0})(),minWidth:Math.max(260,(null===(s=d.current)||void 0===s?void 0:null===(t=s.getBoundingClientRect())||void 0===t?void 0:t.width)||260),position:"fixed"},children:[[{k:"adults",label:"Взрослые"},{k:"children",label:"Дети"},{k:"rooms",label:"Номера"}].map(e=>{let{k:t,label:s}=e;return(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("div",{children:s}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("button",{onClick:()=>{let e=Math.max(0,l[t]-1);if("children"===t){let t=l.childAges.slice(0,e);r({...l,children:e,childAges:t})}else r({...l,[t]:e})},className:"h-8 w-8 grid place-items-center rounded-lg bg-white/10 hover:bg-white/15",children:"-"}),(0,i.jsx)("div",{className:"w-8 text-center",children:l[t]}),(0,i.jsx)("button",{onClick:()=>{let e=l[t]+1;if("children"===t){let t=[...l.childAges];t.length<e&&t.push(7),r({...l,children:e,childAges:t})}else r({...l,[t]:e})},className:"h-8 w-8 grid place-items-center rounded-lg bg-white/10 hover:bg-white/15",children:"+"})]})]},t)}),l.children>0&&(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-xs text-white/70",children:"Возраст детей"}),l.childAges.map((e,t)=>(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,i.jsxs)("div",{children:["Ребёнок ",t+1]}),(0,i.jsx)("select",{value:e,onChange:e=>{let s=[...l.childAges];s[t]=Number(e.target.value),r({...l,childAges:s})},className:"h-9 rounded-lg px-2 bg-white/10 border border-white/10",children:Array.from({length:18}).map((e,t)=>(0,i.jsx)("option",{value:t,children:t},t))})]},t))]}),(0,i.jsx)("button",{onClick:()=>c(!1),className:"px-3 py-2 rounded-lg bg-premium-gold text-premium-black font-semibold text-sm",children:"Готово"})]})]})}function u(e){let{onSearch:t}=e,[s,l]=(0,a.useState)(""),[r,n]=(0,a.useState)([]),[o,c]=(0,a.useState)({start:null,end:null}),[u,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)({adults:2,children:0,childAges:[],rooms:1}),[x,f]=(0,a.useState)(!1),v=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=new AbortController,t=setTimeout(async function(){if(!s||s.length<2){n([]);return}try{var t,i,a;let l=await fetch("/api/ai/groq",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"Выдавай до 6 кратких подсказок гео по Камчатке: города, районы, ориентиры. Формат: label | type(city|region|poi). Только по Камчатскому краю."},{role:"user",content:"подсказки: ".concat(s)}],max_tokens:200,temperature:.2}),signal:e.signal}),r=await l.json(),o=(null==r?void 0:null===(a=r.choices)||void 0===a?void 0:null===(i=a[0])||void 0===i?void 0:null===(t=i.message)||void 0===t?void 0:t.content)||"",c=String(o).split("\n").map(e=>e.trim()).filter(Boolean).slice(0,6).map((e,t)=>{let[s,i]=e.split("|").map(e=>e.trim());return{id:"s".concat(t),label:s||e,type:i||"poi"}});n(c)}catch(e){}},200);return()=>{clearTimeout(t),e.abort()}},[s]),(0,i.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-2 grid sm:grid-cols-[2fr_1.5fr_1.5fr_1fr_auto] gap-2 items-center",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{value:s,onChange:e=>l(e.target.value),placeholder:"Куда вы едете?",className:"h-11 rounded-xl px-3 text-slate-900 w-full"}),!!r.length&&(0,i.jsx)("div",{className:"absolute z-40 mt-1 rounded-xl border border-white/10 bg-premium-black w-full p-1",children:r.map(e=>(0,i.jsx)("button",{onClick:()=>{l(e.label),n([])},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10 text-sm",children:e.label},e.id))})]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("button",{ref:v,onClick:()=>h(e=>!e),className:"h-11 rounded-xl px-3 text-slate-900 w-full text-left",children:[o.start?o.start.toLocaleDateString("ru-RU"):"Дата заезда"," — ",o.end?o.end.toLocaleDateString("ru-RU"):"Дата выезда"]}),u&&(0,i.jsx)("div",{className:"absolute top-[3.2rem] left-0",children:(0,i.jsx)(d,{value:o,onChange:c,onClose:()=>h(!1),anchorRef:v})})]}),(0,i.jsx)(m,{value:p,onChange:g}),(0,i.jsxs)("label",{className:"flex items-center gap-2 text-sm text-white/80 px-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:x,onChange:e=>f(e.target.checked)})," Для работы"]}),(0,i.jsx)("button",{onClick:()=>t({location:s,range:o,guests:p,work:x}),className:"h-11 rounded-xl px-4 bg-premium-gold text-premium-black font-bold",children:"Найти"})]})}let h=["Отель","Гостевой дом","Апартаменты","Хостел","Частный дом"],p=["Бесплатный Wi‑Fi","Парковка","Спа‑услуги","Трансфер","Термальный бассейн"];function g(e){let{value:t,onChange:s,onApply:a}=e,l=e=>s({...t,...e}),r=(e,s)=>{let i=new Set(t[e]);i.has(s)?i.delete(s):i.add(s),l({[e]:Array.from(i)})};return(0,i.jsxs)("aside",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 grid gap-4",children:[(0,i.jsx)("div",{className:"text-lg font-extrabold",children:"Фильтровать результаты"}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-sm text-white/70",children:"Цена за ночь (руб.)"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"number",className:"h-10 rounded-lg px-3 text-slate-900 w-28",value:t.priceMin,onChange:e=>l({priceMin:Number(e.target.value)||0})}),(0,i.jsx)("span",{className:"text-white/60",children:"—"}),(0,i.jsx)("input",{type:"number",className:"h-10 rounded-lg px-3 text-slate-900 w-28",value:t.priceMax,onChange:e=>l({priceMax:Number(e.target.value)||0})})]}),(0,i.jsxs)("div",{className:"px-1",children:[(0,i.jsx)("input",{type:"range",min:0,max:3e4,step:500,value:t.priceMin,onChange:e=>l({priceMin:Number(e.target.value)}),className:"w-full"}),(0,i.jsx)("input",{type:"range",min:0,max:3e4,step:500,value:t.priceMax,onChange:e=>l({priceMax:Number(e.target.value)}),className:"w-full -mt-2"})]})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-sm text-white/70",children:"Рейтинг гостей"}),[4.5,4,3.5,3].map(e=>(0,i.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,i.jsx)("input",{type:"checkbox",checked:t.minRating===e,onChange:()=>l({minRating:t.minRating===e?null:e})})," ",e.toFixed(1),"+"]},e))]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-sm text-white/70",children:"Тип жилья"}),[...h,"Вилла"].map(e=>(0,i.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,i.jsx)("input",{type:"checkbox",checked:t.types.includes(e),onChange:()=>r("types",e)})," ",e]},e))]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-sm text-white/70",children:"Удобства"}),[...p,"Питание включено","Размещение с животными"].map(e=>(0,i.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,i.jsx)("input",{type:"checkbox",checked:t.amenities.includes(e),onChange:()=>r("amenities",e)})," ",e]},e))]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-sm text-white/70",children:"Расстояние до центра (км)"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"range",min:1,max:50,step:1,value:t.maxDistanceKm,onChange:e=>l({maxDistanceKm:Number(e.target.value)}),className:"w-full"}),(0,i.jsx)("div",{className:"w-12 text-right text-sm",children:t.maxDistanceKm})]})]}),(0,i.jsx)("button",{onClick:a,className:"h-11 rounded-xl bg-premium-gold text-premium-black font-bold",children:"Применить фильтры"})]})}var x=s(7648);function f(e){let{n:t}=e,s=[,,,,,].fill(0).map((e,s)=>s<t);return(0,i.jsx)("div",{className:"flex gap-0.5","aria-label":"".concat(t," звёзд"),children:s.map((e,t)=>(0,i.jsx)("span",{className:e?"text-premium-gold":"text-white/30",children:"★"},t))})}function v(e){let{item:t}=e,s=(0,a.useMemo)(()=>t.images&&t.images.length?t.images:[t.img],[t]),[l,r]=(0,a.useState)(0);return(0,i.jsx)("article",{className:"rounded-2xl border border-white/10 bg-white/5 overflow-hidden hover:border-premium-gold/50 transition",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-[240px_1fr]",children:[(0,i.jsxs)("div",{className:"relative w-full h-48 sm:h-44 overflow-hidden",children:[(0,i.jsx)("img",{src:s[l],alt:t.title,className:"w-full h-full object-cover",loading:"lazy"}),s.length>1&&(0,i.jsxs)("div",{className:"absolute inset-0 flex items-center justify-between p-2",children:[(0,i.jsx)("button",{onClick:()=>r(e=>(e-1+s.length)%s.length),className:"h-8 w-8 rounded-full bg-black/50 text-white grid place-items-center",children:"‹"}),(0,i.jsx)("button",{onClick:()=>r(e=>(e+1)%s.length),className:"h-8 w-8 rounded-full bg-black/50 text-white grid place-items-center",children:"›"})]}),s.length>1&&(0,i.jsx)("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:s.map((e,t)=>(0,i.jsx)("span",{className:"h-1.5 w-1.5 rounded-full ".concat(t===l?"bg-premium-gold":"bg-white/50")},t))})]}),(0,i.jsxs)("div",{className:"p-4 grid gap-2",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-extrabold text-lg",children:t.title}),(0,i.jsx)("div",{className:"text-white/70 text-sm",children:t.location}),"number"==typeof t.stars&&(0,i.jsx)(f,{n:t.stars})]}),(0,i.jsxs)("div",{className:"rounded-xl bg-black/60 border border-white/10 px-3 py-2 text-center",children:[(0,i.jsx)("div",{className:"text-xl font-black text-premium-gold",children:t.rating.toFixed(1)}),(0,i.jsx)("div",{className:"text-xs text-white/70",children:t.reviews?"".concat(t.reviews," отзывов"):"—"})]})]}),t.summary&&(0,i.jsx)("div",{className:"text-sm text-white/80",children:t.summary}),(0,i.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,i.jsxs)("div",{className:"text-white/85",children:[(0,i.jsx)("span",{className:"text-2xl font-black text-premium-gold",children:t.priceFrom.toLocaleString("ru-RU")})," ₽ / ночь"]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(x.default,{href:"/hub/stay/".concat(t.id),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15 font-semibold",children:"Подробнее"}),(0,i.jsx)(x.default,{href:"/hub/stay/".concat(t.id),className:"px-4 py-2 rounded-lg bg-premium-gold text-premium-black font-semibold",children:"Забронировать"})]})]})]})]})})}var b=s(2398);let w=b.j.map(e=>({id:e.id,title:e.name,location:e.location,rating:e.rating,priceFrom:e.price,img:e.images[0],tags:e.amenities.slice(0,3)}));function j(){var e,t;let[s,l]=(0,a.useState)("tourist"),[r,n]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[x,f]=(0,a.useState)("pop"),j=(0,a.useMemo)(()=>w.filter(e=>{let t=!r||(e.title+" "+e.location+" "+e.tags.join(" ")).toLowerCase().includes(r.toLowerCase()),s=""===o||e.priceFrom>=Number(o),i=""===h||e.priceFrom<=Number(h);return t&&s&&i}).sort((e,t)=>"price_asc"===x?e.priceFrom-t.priceFrom:"price_desc"===x?t.priceFrom-e.priceFrom:"rating"===x?t.rating-e.rating:0),[r,o,h,x]),[N,y]=(0,a.useState)(!1),[k,C]=(0,a.useState)({start:null,end:null}),[S,D]=(0,a.useState)({adults:2,children:0,childAges:[],rooms:1}),[F,M]=(0,a.useState)({priceMin:0,priceMax:3e4,types:[],minRating:null,amenities:[],maxDistanceKm:50});return(0,i.jsxs)("main",{className:"min-h-screen bg-premium-black text-white px-6 py-8 grid gap-6",children:[(0,i.jsxs)("header",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("a",{href:"/",className:"px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/15 text-sm",children:"← На главную"}),(0,i.jsx)("h1",{className:"text-2xl sm:text-3xl font-extrabold",children:"Размещение"})]}),(0,i.jsx)("div",{className:"flex gap-2 bg-white/5 border border-white/10 rounded-full p-1",children:["tourist","operator"].map(e=>(0,i.jsx)("button",{onClick:()=>l(e),className:"px-3 py-1.5 rounded-full text-sm ".concat(s===e?"bg-premium-gold text-premium-black":"hover:bg-white/10"),children:"tourist"===e?"Турист":"Туроператор"},e))})]}),(0,i.jsxs)("section",{className:"relative overflow-hidden rounded-3xl",children:[(0,i.jsx)("img",{src:"https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1920&auto=format&fit=crop",alt:"Hero",className:"w-full h-[32vh] object-cover"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),(0,i.jsxs)("div",{className:"absolute inset-0 p-6 grid content-end gap-3",children:[(0,i.jsx)("div",{className:"text-2xl font-extrabold",children:"Найдите идеальное место для отдыха на Камчатке"}),(0,i.jsx)("div",{className:"text-white/85",children:"От уютных гостевых домов до современных отелей — с лучшей ценой."}),(0,i.jsx)(u,{onSearch:()=>{}})]})]}),(0,i.jsxs)("section",{className:"grid gap-3 relative",children:[(0,i.jsxs)("div",{className:"grid sm:grid-cols-5 gap-3",children:[(0,i.jsx)("input",{value:r,onChange:e=>n(e.target.value),placeholder:"Куда: база, район…",className:"h-11 rounded-xl px-3 text-slate-900 sm:col-span-2"}),(0,i.jsxs)("button",{onClick:()=>y(e=>!e),className:"h-11 rounded-xl px-3 text-slate-900 text-left relative ring-1 ring-premium-gold/60 focus:ring-2 focus:ring-premium-gold",id:"date-anchor",children:[k.start?k.start.toLocaleDateString("ru-RU"):"Дата заезда"," — ",k.end?k.end.toLocaleDateString("ru-RU"):"Дата выезда"]}),(0,i.jsx)(m,{value:S,onChange:D,className:"ring-1 ring-premium-gold/60 focus:ring-2 focus:ring-premium-gold"})]}),N&&(0,i.jsx)(d,{value:k,onChange:C,onClose:()=>y(!1),anchorRef:{current:(null===(t=document)||void 0===t?void 0:null===(e=t.getElementById)||void 0===e?void 0:e.call(t,"date-anchor"))||null}}),(0,i.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsx)("input",{type:"number",value:o,onChange:e=>c(""===e.target.value?"":Number(e.target.value)),placeholder:"Мин ₽/ночь",className:"h-11 rounded-xl px-3 text-slate-900"}),(0,i.jsx)("input",{type:"number",value:h,onChange:e=>p(""===e.target.value?"":Number(e.target.value)),placeholder:"Макс ₽/ночь",className:"h-11 rounded-xl px-3 text-slate-900"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm overflow-x-auto no-scrollbar sm:col-span-2",children:[["баня","река","рыбалка","пансион","вид на вулканы","семейный","центр","трансфер"].map(e=>(0,i.jsx)("button",{onClick:()=>n(t=>t?t+" "+e:e),className:"px-3 py-2 rounded-full bg-white/10 hover:bg-white/15 whitespace-nowrap",children:e},e)),(0,i.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"h-10 rounded-xl px-3 bg-white/10 border border-white/10",children:[(0,i.jsx)("option",{value:"pop",children:"Сортировка: по популярности"}),(0,i.jsx)("option",{value:"price_asc",children:"Сортировка: цена ↑"}),(0,i.jsx)("option",{value:"price_desc",children:"Сортировка: цена ↓"}),(0,i.jsx)("option",{value:"rating",children:"Сортировка: рейтинг"})]})]})]})]}),(0,i.jsxs)("section",{className:"grid gap-4 sm:grid-cols-[280px_1fr]",children:[(0,i.jsx)(g,{value:F,onChange:M,onApply:()=>{}}),(0,i.jsxs)("div",{className:"grid gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,i.jsxs)("div",{className:"text-white/70",children:["Найдено вариантов: ",j.length]}),(0,i.jsxs)("select",{className:"h-10 rounded-xl px-3 bg-white/10 border border-white/10",children:[(0,i.jsx)("option",{children:"Рекомендуемые"}),(0,i.jsx)("option",{children:"Цена: низкая → высокая"}),(0,i.jsx)("option",{children:"Цена: высокая → низкая"}),(0,i.jsx)("option",{children:"Рейтинг"})]})]}),(0,i.jsx)("div",{className:"grid gap-3",children:j.map(e=>{let t=b.j.find(t=>t.id===e.id);return(0,i.jsx)(v,{item:{id:e.id,title:e.title,location:e.location,rating:e.rating,priceFrom:e.priceFrom,img:e.img,reviews:(null==t?void 0:t.reviews)||0,summary:(null==t?void 0:t.description.slice(0,120))+"…",stars:null==t?void 0:t.stars,images:null==t?void 0:t.images}},e.id)})})]})]})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=5579)}),_N_E=e.O()}]);