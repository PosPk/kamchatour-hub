(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[932],{3226:function(e,t,n){Promise.resolve().then(n.bind(n,3586))},3586:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(7437),s=n(2265);function i(){let[e,t]=(0,s.useState)(null),[n,i]=(0,s.useState)(""),[l,a]=(0,s.useState)("image/jpeg"),[u,o]=(0,s.useState)("");async function d(){try{if(!e||!n){o("Выберите файл и укажите ключ (путь в бакете)");return}let t=new FormData;t.append("key",n),t.append("file",e);let r=await fetch("/api/assets/upload",{method:"POST",body:t}),s=await r.json();if(!r.ok||!s.ok){o("Ошибка: "+(s.error||r.status));return}o("Загружено: s3://"+s.key)}catch(e){o("Ошибка: "+String(e))}}return(0,r.jsxs)("main",{style:{padding:24,display:"grid",gap:12},children:[(0,r.jsx)("h1",{children:"Загрузка медиа"}),(0,r.jsx)("input",{type:"text",placeholder:"partners/kr/logo.svg или tours/kr-001/1.jpg",value:n,onChange:e=>i(e.target.value)}),(0,r.jsx)("input",{type:"file",onChange:e=>{var n;return t((null===(n=e.target.files)||void 0===n?void 0:n[0])||null)}}),(0,r.jsx)("button",{onClick:d,children:"Загрузить"}),u&&(0,r.jsx)("div",{children:u}),(0,r.jsx)("hr",{}),(0,r.jsx)("p",{children:"Советы:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Лого партнёров: partners/<slug>/logo.svg/png"}),(0,r.jsx)("li",{children:"Фото тура: tours/<slug>/<id>/<N>.jpg"})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3226)}),_N_E=e.O()}]);