(()=>{var e={};e.id=797,e.ids=[797],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3977:e=>{"use strict";e.exports=require("node:fs/promises")},9411:e=>{"use strict";e.exports=require("node:path")},9307:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>l}),t(323),t(3733),t(996);var s=t(170),i=t(5002),n=t(3876),a=t.n(n),o=t(6299),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,323)),"/workspace/new-web/src/app/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3733)),"/workspace/new-web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/new-web/src/app/search/page.tsx"],p="/search/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2729:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,3642,23)),Promise.resolve().then(t.t.bind(t,7586,23)),Promise.resolve().then(t.t.bind(t,7838,23)),Promise.resolve().then(t.t.bind(t,8057,23)),Promise.resolve().then(t.t.bind(t,7741,23)),Promise.resolve().then(t.t.bind(t,3118,23))},3323:()=>{},5303:()=>{},3733:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>i});var s=t(2051);t(5023);let i={title:"TourHab — Камчатка",description:"Туры по Камчатке. Поиск, партнёры, витрины."};function n({children:e}){return s.jsx("html",{lang:"ru",children:s.jsx("body",{children:e})})}},323:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c,dynamic:()=>d});var s=t(2051),i=t(3977),n=t.n(i),a=t(9411),o=t.n(a);let d="force-static";async function l(){let e=o().join(process.cwd(),"public","partners"),r=(await n().readdir(e)).filter(e=>e.endsWith(".json")&&"index.json"!==e);return(await Promise.all(r.map(async r=>JSON.parse(await n().readFile(o().join(e,r),"utf-8"))))).flat()}async function c({searchParams:e}){let r=e.q||"",t=e.activity||"",i=e.region||"",n=(await l()).filter(e=>(function(e,r,t,s){let i=`${e.title} ${e.activity} ${e.region}`.toLowerCase();return(!r||!!i.includes(r.toLowerCase()))&&(!t||e.activity===t)&&(!s||e.region===s)})(e,r,t||void 0,i||void 0));return(0,s.jsxs)("main",{style:{padding:24},children:[s.jsx("h1",{children:"Поиск"}),(0,s.jsxs)("p",{children:["Найдено: ",n.length," ",r?`(по запросу “${r}”)`:""]}),s.jsx("div",{style:{display:"grid",gap:16},children:n.map(e=>(0,s.jsxs)("article",{style:{border:"1px solid #ddd",padding:12,borderRadius:8},children:[s.jsx("h3",{children:e.title}),(0,s.jsxs)("p",{children:[e.activity," • ",e.region," • от ",e.price_from," ₽ • ",e.duration_days," дней"]})]},e.id))})]})}},5023:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[787,39],()=>t(9307));module.exports=s})();